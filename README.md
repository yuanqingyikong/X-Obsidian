# X工具集合 (X-Tools)

一个功能丰富的 Obsidian 插件，集成了多种实用工具，帮助您更好地管理和展示笔记内容。

## 🌟 主要功能

### 📝 Halo 博客发布
- **一键发布**：将 Obsidian 笔记直接发布到 Halo 博客系统
- **智能同步**：支持增量发布，避免重复发布未修改的内容
- **强制重发**：提供强制重新发布选项，覆盖已发布的文章
- **元数据支持**：自动解析 frontmatter 中的标题、标签、分类等信息
- **发布历史**：记录所有发布操作的历史记录
- **状态跟踪**：实时显示发布状态和进度

### 🎨 Banner 头图管理
- **动态头图**：为笔记添加美观的头图横幅
- **位置调整**：支持自定义头图的显示位置（X/Y坐标）
- **锁定功能**：可锁定头图位置，防止意外修改
- **快速操作**：提供添加/更改和移除头图的快捷命令

### 📊 数据可视化
- **笔记卡片**：以卡片形式展示笔记信息
- **活跃度热力图**：GitHub 风格的活跃度热力图，可视化您的笔记创建频率
- **自定义配色**：支持自定义热力图的颜色主题和阈值

### ⚙️ 灵活配置
- **图片管理**：支持多种图片来源和自定义图片API
- **博客设置**：完整的 Halo 博客配置选项
- **个性化**：丰富的自定义设置选项

## 🚀 快速开始

### 安装插件
1. 下载插件文件到 Obsidian 插件目录
2. 在 Obsidian 设置中启用「X工具集合」插件
3. 重启 Obsidian

### 配置 Halo 博客
1. 打开插件设置页面
2. 在「Halo 博客设置」部分填写：
   - **博客地址**：您的 Halo 博客 URL（如：`https://your-blog.com`）
   - **访问令牌**：从 Halo 后台获取的 API Token
   - **默认分类**：文章的默认分类
   - **默认标签**：文章的默认标签
   - **自动发布**：是否在上传后自动发布文章

## 📖 使用指南

### Halo 博客发布

#### 基本发布
1. 打开要发布的 Markdown 文件
2. 使用命令面板（Ctrl/Cmd + P）搜索「发布到 Halo 博客」
3. 或使用快捷键执行发布命令
4. 插件会自动解析文件内容并发布到您的博客

#### Frontmatter 配置
在文件开头添加 frontmatter 来自定义文章属性：

```yaml
---
title: 文章标题
slug: article-slug
categories: 
  - 技术
  - 教程
tags:
  - Obsidian
  - 插件开发
banner: https://example.com/banner.jpg
visible: PUBLIC
allowComment: true
pinned: false
excerpt: 文章摘要
---
```

#### 支持的 Frontmatter 字段
- `title`: 文章标题
- `slug`: URL 别名
- `categories`: 分类（数组或字符串）
- `tags`: 标签（数组或字符串）
- `banner`: 头图 URL
- `visible`: 可见性（PUBLIC/INTERNAL/PRIVATE）
- `allowComment`: 是否允许评论
- `pinned`: 是否置顶
- `excerpt`: 文章摘要
- `publishTime`: 发布时间
- `priority`: 优先级

### Banner 头图功能

#### 添加头图
1. 在 frontmatter 中添加 `banner` 字段：
```yaml
---
banner: https://example.com/your-image.jpg
banner_x: 0.5  # 水平位置 (0-1)
banner_y: 0.3  # 垂直位置 (0-1)
banner_lock: false  # 是否锁定位置
---
```

2. 或使用命令「添加/更改 Banner」打开设置对话框

#### 移除头图
使用命令「移除 Banner」可快速移除当前文件的头图设置

### 数据可视化

#### 笔记卡片
在文档中插入代码块：
````markdown
```notecards
```
````
#### 活跃度热力图

在文档中插入代码块：

````markdown
```heatmap
```
````
## ⚙️ 设置选项

### 图片设置
- **图片来源**：选择图片的来源方式
- **附件文件夹路径**：指定附件存储路径
- **图片API地址**：自定义图片API服务
- **图片尺寸**：设置默认的图片宽度和高度

### 热力图设置
- **活跃度阈值**：自定义不同活跃度级别的阈值
- **颜色配置**：自定义热力图的颜色方案

### Halo 博客设置
- **博客地址**：Halo 博客的完整 URL
- **访问令牌**：API 访问令牌
- **默认分类**：新文章的默认分类
- **默认标签**：新文章的默认标签
- **自动发布**：是否在上传后立即发布

## 🔧 命令列表

| 命令                     | 功能                       |
| ------------------------ | -------------------------- |
| 发布到 Halo 博客         | 将当前文件发布到 Halo 博客 |
| 强制重新发布到 Halo 博客 | 强制重新发布，忽略缓存检查 |
| 添加/更改 Banner         | 为当前文件添加或修改头图   |
| 移除 Banner              | 移除当前文件的头图设置     |

## 🐛 故障排除

### 发布失败
1. **检查网络连接**：确保能够访问您的 Halo 博客
2. **验证配置**：检查博客地址和访问令牌是否正确
3. **查看控制台**：打开开发者工具查看详细错误信息
4. **重试发布**：使用「强制重新发布」命令

### 头图不显示
1. **检查图片URL**：确保图片链接有效且可访问
2. **刷新视图**：切换到其他文件再切换回来
3. **重新设置**：移除头图后重新添加

### 热力图异常
1. **检查代码块**：确保使用正确的代码块标识符
2. **重新加载**：重启 Obsidian 或重新加载插件

## 📝 更新日志

### v0.0.1
- 🎉 初始版本发布
- ✨ 支持 Halo 博客发布功能
- ✨ 添加 Banner 头图管理
- ✨ 实现笔记卡片和热力图可视化
- ⚙️ 完整的设置配置界面

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来帮助改进这个插件！

## 📄 许可证

本项目采用 MIT 许可证。


如果这个插件对您有帮助，请考虑给项目点个 ⭐️！
